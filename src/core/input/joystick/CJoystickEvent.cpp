#include "CJoystickEvent.h"



/* ######################################################################### */
/* ######################################################################### */

CJoystickEvent::CJoystickEvent()
    :   m_isInit( false )
    ,   m_number( -1 )
    ,   m_type( TypeUnknown )
    ,   m_value( 0 )
{
}

/* ######################################################################### */
/* ######################################################################### */

void    CJoystickEvent::decode(const js_event argEvent)
{

    //-------------------------------------------------------------------------
    //  Decode the event type
    //-------------------------------------------------------------------------
    this->m_isInit  = (argEvent.type & JS_EVENT_INIT);

    if( argEvent.type & JS_EVENT_AXIS )
    {
        this->m_type    = TypeAxis;
    }
    else if( argEvent.type & JS_EVENT_BUTTON )
    {
        this->m_type    = TypeButton;
    }
    else
    {
        this->m_type    = TypeUnknown;
    }


    //-------------------------------------------------------------------------
    //  Get the "number"
    //-------------------------------------------------------------------------
    this->m_number  = argEvent.number;


    //-------------------------------------------------------------------------
    //  Get the value
    //-------------------------------------------------------------------------
    this->m_value   = argEvent.value;

}

/* ######################################################################### */
/* ######################################################################### */

bool    CJoystickEvent::isInit() const
{
    return this->m_isInit;
}

/* ######################################################################### */
/* ######################################################################### */

int CJoystickEvent::number() const
{
    return this->m_number;
}

/* ######################################################################### */
/* ######################################################################### */

CJoystickEvent::Type    CJoystickEvent::type() const
{
    return this->m_type;
}

/* ######################################################################### */
/* ######################################################################### */
int16_t CJoystickEvent::value() const
{
    return this->m_value;
}

/* ######################################################################### */
/* ######################################################################### */
